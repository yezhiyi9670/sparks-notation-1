---
sidebar_position: 2
description: 基调、拍号、拍速、移调等
---
import C from '@site/src/mdx'

# 音乐属性 {#musical-props}

音乐属性写在 `P:` `Pi:` 或 `Sp:` 开头的行上，可以包含基调、拍号、拍速、移调和自定义文本。这是一个例子：

<C.ScoreExample canLoad>{
`P: 1=E 6/8 spm=216 +4 神秘地
`
}</C.ScoreExample>

:::caution 常见错误

音乐属性行是按空格分割的，因此单个属性内部不能有空格。例如不能将 `4/4` 写成 `4 / 4`。

:::

## 基调 {#base-tune}

基调指定曲谱中 `1` 所代表地实际音高。格式为 `1=<<升降记号>?><音名><<组号>?>`。

- `1=C` 表示曲谱中 `1` 代表实际的 `C`。
- `1=#C` 表示曲谱中 `1` 代表实际的 `#C`。
- `1=E3` 表示曲谱中 `1` 代表实际的 `E3`。
- `1=#B3` 表示曲谱 `1` 代表实际的 `C4`（注意不是 `C3`）。

升降记号可以是 `#`(升)，`b`(降)，`$`(半升) 或 `%`(半降)。组号的约定为 `A4` 代表 440Hz。

<C.SpoilerAlert variant='info' title='探讨' desc='为什么要指定组号？'>

像 `1=C` 这样的表述，给出的是旋律的基准音调而非音高，因此，我们没有办法说是 `1=B` 高还是 `1=C` 高。

一般情况下，给出音调就足够了，不需要指定组号。但是，在有转调的情况下，这样就会产生歧义，例如 `1=C` 到 `1=G`，可以认为是升 5 度转调，也可以认为是降 4 度转调，你愿意的话甚至还可以是升 12 度（大雾）。因此，有转调的情况下，建议认真考虑是否应当标出组号。

对于未标注组号的情况，Sparks NMN 会采取默认处理措施，即音名 `G, A, B` 使用组号 3，音名 `C, D, E, F` 使用组号 4。这种假设下，在不带升降记号的情况下，`1=G` 是最低的，而 `1=F` 是最高的，并且 `1=bG` 和 `1=#F` 也完全不是一个东西。

</C.SpoilerAlert>

如果你要显式地表明你不知道基调，可以用 `1=?` 表示。如果直接不写基调，也会默认为这个。

## 拍号 {#beats}

拍号表示曲谱的每小节拍数和记法。格式为 `<每小节拍数>/<每个全音符的拍数><<T|S|s>?>`。

:::info 提示

这里“每个全音符的拍数”指的就是课上说的“以几分音符为一拍”，只不过是使用更加严谨的“比值法”定义。

:::

- `4/4` 表示常拍号。
- `6/8` 表示每小节 6 拍，8 分音符为一拍，也就是说每小节应当包含 $\frac{6}{8}\times 4 = 3$ 个四分音符。
- `6/12T` 表示每小节 6 拍，12 分音符为一拍，每小节应当包含 2 个四分音符；同时启用三等分法则，一条下划线的音符默认为 12 分音符，而非 8 分音符，两条下划线默认为 24 分音符，而非 16 分音符，以此类推。
- `6/4S` 表示每小节 6 拍，4 分音符为一拍，每小节应当包含 6 个四分音符；同时对八分音符摇摆节奏（Swing），时间坐标被“扭曲”，每个四分音符下的节奏划分由 $\left(\frac{1}{2} + \frac{1}{2}\right)\mathrm{q}$ 变为 $\left(\frac{2}{3} + \frac{1}{3}\right)\mathrm{q}$。
- `4/4s` 表示每小节 4 拍，4 分音符为一拍，每小节应当包含 4 个四分音符；同时对十六分音符摇摆节奏（Swing），每个八分音符下的节奏划分由 $\left(\frac{1}{4} + \frac{1}{4}\right)\mathrm{q}$ 变为 $\left(\frac{2}{6} + \frac{1}{6}\right)\mathrm{q}$。
- `0/4` 表示四分音符为一拍，每小节的拍数不确定，但是必须是整数拍，也就是整数个四分音符。

:::caution 非标准特性

三等分法则本身，以及摇摆节奏的字母 `S` 是简谱标准以外的特性，如果使用了，应当添加文字说明方便他人理解。

:::

## 拍速 {#beats-speed}

拍号用来表示节拍的速度，格式为 `<hpm|qpm|spm|h.pm|q.pm|s.pm>=<数值></<描述文本>?>`。

- `hpm=60` 表示每分钟 60 个二分音符。
- `qpm=128` 表示每分钟 128 个四分音符。
- `qpm=108/较快` 表示每分钟 108 个四分音符，但是渲染时不显示精确数值，而是显示“较快”。
- `q.pm=71/=65~75` 表示每分钟 71 个四分附点音符，渲染时不显示精确数值，而是将数值显示为“65~75”。
- `spm=233` 表示每分钟 233 个八分音符。如果拍号中启用了三等分法则，则含义会变为“每分钟 233 个十二分音符”。

描述文本内的空格用下划线 `_` 代替。

若不写拍速，渲染时不会显示拍速，数值会默认为 `qpm=120`。

## 移调 {#transpose}

指定使用音名表示和弦时的移调量，以 Key（钢琴键或半音）为单位。格式为 `<+|-><数值>`。

- `+4` 表示升 4Key，和弦 $\text{C}^7$ 实际表示 $\text{E}^7$。
- `-1` 表示降 1Key，和弦 $\text{C}^7$ 实际表示 $\text{B}^7$。
- `+3.5` 表示升 3.5Key，如果你在标注基调时用了半升/半降记号，应当这么操作。

:::info 谨慎使用

用本该表示绝对音调的音名表示相对音调，不是什么规范的写法，应当尽量避免使用。  
要用简谱的音符级数表示和弦，可以写成形如 $5^7$ 的格式；用调性级数表示和弦，可以写成形如 $\text{V}^7$ 的格式。

:::

## 自定义文本

自定义文本会显示在所有其他音乐属性之后，通常表示歌唱或演奏时需要的情感。
