---
sidebar_position: 8
description: 小节线上用于布局、指定乐理属性和标注的属性
---
import C from '@site/src/mdx'

# 小节线属性* {#section-attrs}

在常见的乐谱中，转调、变拍、变速等变化往往标在小节线上方。但是，这些东西事实上不应该标记在小节线上方（这样在分段线、反复记号等位置会出现歧义），而应该标记在一个小节上方靠左或靠右的位置，前者表示在该小节开头时变化，后者表示在该小节末尾变化。

Sparks NMN 引入了小节线属性，用以表示需要标记在小节线上方或两侧的文本。

## 语法和位置 {#syntax-and-position}

小节线可以通过添加括号来添加属性，像是这样：

<C.ScoreExample>{
`N: 1 1 5 5 {<...>}|[<...>]{<...>} 6 6 5 - | 4 4 3 3 | 2 2 1 - |||`
}</C.ScoreExample>

- 小节线前的花括号称为**前置属性**，显示在小节线左侧，这些属性实质上**属于上一个小节**。
- 小节线后的方括号为**上方属性**，显示在小节线上方或下方，属于小节线本身。
- 小节线后的花括号为**后置属性**，显示在小节线右侧，这些属性实质上**属于下一个小节**。
- 小节序列开头或末尾的小节线所使用的属性类型有限制。如果违反了限制，编辑器将会显示警告。
  - 对于用来显示的属性，小节序列开头的小节线不能写前置属性和上方属性，小节序列末尾的小节线不能写后置属性。
  - 对于转调、变拍和变速等，小节序列开头的小节线不能写前置属性，小节序列末尾的小节线不能写后置属性或上方属性。
- 当某一类属性为空时，可以省略其括号不写出。

<C.RealtimeScore efRange={1} children={
`// preserve-start
P: 1=C 4/4 qpm=120
====
// highlight-next-line
N: /{t=1} 1 1 1 1 ||["A"] 2 2 2 2 {"末尾减慢 "}||["B"]{" ", qpm=114} 3 3 3 3 |{qpm=110} 1 1 1 - |||
// preserve-end
A: 0 0 0 "  上方属性" | 0 0 " 前置属性" | "后置属性"
`
} />

:::tip 提示

要在第一小节的前面添加一个后置属性，请使用隐藏小节线 `/`。

:::

如果你没有完全理解这些，没有关系，之后会有具体的例子说明。

:::caution 常见错误

小节线的上方属性（方括号）必须在后置属性（写在后面的方括号）之前，例如 `|["B"]{1=D}` 是正确的，而 `|{1=D}["B"]` 不是。

:::

## 所有属性 {#all-attrs}

现在我们不急着介绍所有小节线属性。如果你急于知道，请看[记号速查表](/docs/reference/section-attrs)中的介绍。

## 接下来... {#next}

接下来我们真的要开始介绍如何表示转调、变拍与变速了。
