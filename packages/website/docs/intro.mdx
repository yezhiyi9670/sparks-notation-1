---
sidebar_position: 1
---
import C from '@site/src/mdx'

# Sparks NMN 指南 {#intro}

<C.PreloadPlaygroundFonts />

> 文档版本：Sparks NMN <C.Version />

这是 Sparks NMN 指南的引入页，概述了 Sparks NMN 的用处和设计思想。

:::note 向我们反馈问题

如果文档内有一些科学性错误或者无效的链接，请点击右上角链接前往 Github 向我们反馈。  
如果你认为我们引用作品侵犯了你的利益，请通过页面底部的电子邮件地址反馈。

:::

:::tip 征集想法：Sparks NMN 2

全新 Sparks NMN 2 正在设计中，如果你有关于语法、交互体验、显示效果等方面的建议，也欢迎通过 GitHub Issues 提交。Sparks NMN 2 的标准**不需要**与当前的 Sparks NMN 兼容，后续会提供相应转换工具转换原有的乐谱。当然，现在你可以放心使用第一代，因为第二代发布后，第一代仍然会继续进行维护性更新。

:::

## 什么是 Sparks NMN? {#what-is-sparks-nmn}

Sparks NMN 是一个基于文本格式的简谱（Numbered Music Notation）制作语言。只须输入按规范编写的文本文件，它就能够渲染出最终的简谱界面，供查看和打印。文本规范的设计主要参照作者日常抄谱和扒谱的实践，考虑了许多方面，力求使文本文档简洁而直观，且经得起实践检验。渲染的样式主要参照中国的义务教育音乐课本。

Sparks NMN 是开源软件，核心基于 Web，可以在浏览器中运行。因此，你可以不下载而在线试用。为了方便实际工作场景下的使用，Sparks NMN 还有一个通过 Electron 技术实现的桌面版。

<C.SpoilerAlert variant='info' title='例子' desc='为了让事情清晰一点，来感受一个简单的例子——儿歌《数鸭子》。'>

<C.RealtimeScore narrow>{
`Dt: 数鸭子
Ds: 简单儿歌
Dv: Version 20230218
Da[作词]: 王嘉桢
Da[作曲]: 胡小环
P: 1=C 4/4
Rp: font_lyrics=Roman,CommonSerif/600/0.95
===
N: X X (XX) X | (XX) (XX) X 0 | (XX) (XX) (XX) X | (XX) (XX) X 0 |
Lc[1.]: 门前大桥下，游过一群鸭。快来快来数一数，二四六七八。
---
N: &lpr; (1e.(1e)) (55) (36) (53) | (21) (23) 1 - &rpr; |
---
N: ||: 3 1 (33) 1 | (33) (56) 5 - | (66) (65) (44) 4 | (23) (21) 2 - |
Lc[1.]: 门前大桥下，游过一群鸭。快来快来数一数，二四六七八。
Lc[2.]: 赶鸭老爷爷，胡子白花花。唱呀唱着家乡戏，还会说笑话。
---
N: 3 (10) 3 (10) | (33) (56) 6 - | 1e (55) 6 3 | (2^1^) (2^3^) 5 - | 1e (55) 6 3 | (2^1^) (2^3^) 1 - :||
Lc[1.]: 咕嘎咕嘎，真呀真多鸭，数不清到底多%少%鸭，数不清到底多%少%鸭。
Lc[2.]: 小孩小孩，快快上学校，别考个鸭蛋抱%回%家，别考个鸭蛋抱%回%家。
`
}</C.RealtimeScore>

</C.SpoilerAlert>

:::note 备注

教程中所有用作例子的片段，如果不是原创，均会至少注明一次出处（歌曲名，若条件允许会有链接；其中有一个无法找到来源的除外）。示例歌曲的版权归原作者所有，本教程中仅包含必要的乐谱片段以及指向音乐平台播放页的链接，不直接提供歌曲的试听与下载。

:::

## 如何开始使用？ {#how-to-use}

### 在线试用

对于尚不熟悉并且不确定是否要下载的用户，我们提供了在线试用版本，使得用户可以快速且便捷地进行尝试，而不需要花时间安装与卸载。点击下面的链接前往试用版。

<C.TryYourself />

### 下载桌面版

如果你在简单试用和了解后决定采用 Sparks NMN，并且希望拥有文件保存、打印以及偏好设置等完整功能，则可以[免费下载桌面版](/desktop-download)。桌面版是免安装的，解压即可使用。

桌面版应用的界面几乎和试用模式一样简洁，没有任何广告和骚扰信息，不需要联网工作，也不会在未明确征得同意的情况下上传你的任何数据，可以放心使用。

## 设计思想简介 {#design-thoughts}

<C.Spoiler expandText='如果你好奇的话...'>

<hr />

<h3>为什么是文本？</h3>

文本具有一些其他格式难以比拟优越性和灵活性。

首先，文本是**通用**的格式。文本有一些系统**已经为我们准备好**的操作，例如撤销、复制、剪切和粘贴，它们还是熟悉的操作方式，熟悉的味道，没有任何需要额外注意的事情。文本还是**开放**的格式，这意味着一旦了解了相关的规范，任何人都可以不困难地编写出能处理某种文本的第三方工具。

此外，文本是**高效**的界面。文本语言的输入只需要键盘操作，不需要鼠标键盘的一唱一和，不需要粗糙而低效的拖来拖去。一旦熟练掌握一门文本语言，编辑它的速度可以像码字一样快。

最后，文本是**精确而明晰**的语言。在许多可视化编辑软件上，如果某些元素需要靠手动拖拽来布局，你可能很难看出布局有偏差。但是，在文本中，**无论多小的偏差都能造成肉眼可见的差异**，这对有些“强迫症”的用户而言无疑是最佳的选择。文本还会始终如实告诉你当前正在发生的一切，避免你在无意间对文档造成更改。

<h3>什么样的文本？</h3>

**相似性** 文本应当与其表达的对象尽可能相似，这包含了字面上和结构上的相似性。

- 对于简谱，在文本语言中使用数字和八度（例如 `1` `3e` `#2`）表示音符，要优于用音名表示（例如 `C` `E5` `D-es`）。
- 减时线使用括号表示（例如 `(XX)(XX) X 0`），比使用音符的后缀表示（例如 `X/ X/ X/ X/ X 0`）更优。这是因为括号隐含了音符应当如何分组的信息，这就把分组的主动权交给了用户，避免了自动分组出错造成不必要的麻烦。
- 符号应当与其所指的东西尽可能相似。例如，使用 `X` 表示节奏符号要比 `9` 更好，使用 `b` 表示降调记号要比 `@` 更好。

**易读与便捷性** 文本应当是容易阅读也容易输入的。

- 比如小节线的分隔一般是乐谱中最重要的分隔，因此，连音线的记号应当为此让步。例如，同样的旋律，`0 (1) 7d 1 (2~) | (2) 3 4 5 (b7~) | (b7) 6 5 4 (5~) | 5 - - -` 比 `0 1/ 7, 1 (2/ | 2/) 3 4 5 (@7/ | @7/) 6 5 4 (5/ | 5) - - -` 更加容易阅读。
- 对于一般的用户，输入数字后紧接着输入字母 `d` 和 `e`，比输入符号 `,` `'` 更加容易（输入后者时还很可能无意地输入全角字符），而且 `,` 和 `.`（附点）在阅读时容易混淆，因此 Sparks NMN 将 `d` `e` 作为音符的八度记号。

**简洁性** 文本应当尽量避免无用的信息。

- 比如，这种语言不应当要求你在每行后面使用分号或逗号。
- 简洁性有时要向可读性让步。比如，音符之间插入一个 `&int` 足以表示“换气”，但是 Sparks NMN 要求将其写成 `&int;`。

**一致性** 同样的符号在相近的语境下含义也应当相近，以方便用户记忆。

- 例如，小括号在音符中表示减时线，在歌词中也相应地表示下划线组，而不是角色标记。

我们承认，Sparks NMN 可能并没有将这些原则做到极致，但是我们确实已经为此努力了。

<hr />

</C.Spoiler>

## 如何学习 {#how-to-learn}

### 如果你喜欢自己探索 {#if-you-wanna-explore}

如果你更喜欢自己探索语法，而不是按部就班地看着教程学习，你可以阅读并研究我们提供的[示例乐谱](/examples)。然而，这些乐谱中对某些特性的使用可能过于复杂，并且也没能覆盖 Sparks NMN 的所有特性，并不能完全代替教程。

### 多尝试 {#just-do-it}

此教程中会有不少代码示例。在完整的示例代码下方，都会有一个“在试用模式中尝试”链接，点击即可在试用环境中打开。如果你刚才点开了上面的例子，你应该已经知道这一点了。

当你发现代码中有的地方令你疑惑，可以在试用模式中打开它，然后修改一下看看。这样你的印象和理解就会更加深刻。

### 克服对文本的恐惧 {#fear-is-your-enermy}

<C.Spoiler expandText='如果你一看到代码就头大...'>

<hr />

如果你没有接触过程序设计等使用纯文本描述事情的领域，你可能会学习一个纯文本语言有一些害怕。不过，这种担心是多余的。

- 正如上面所说，Sparks NMN 的文本语言简洁明了且自然，掌握它并不需要花太多功夫。
- 你用的是电脑，不是纸和笔，你也不是在考试。如果犯了错，你始终有修改的机会。
- Sparks NMN 被设计成无论输入多么错误的东西都不会罢工。即使代码有错误，它仍然会尝试显示出它能显示的结果，并且还会针对一些常见的错误进行提示。如果很不巧，Sparks NMN 恰好因为某个 bug 而爆掉了，你的电脑也不会爆炸，只是会显示一行错误提示而已。

<hr />

</C.Spoiler>

## 接下来... {#then}

本教程假设你了解音乐的基本维度（音高与节奏）相关知识、简谱的大致格式，以及对一般的旋律进行视唱和听写（扒谱）的技巧。如果你觉得自己对此一无所知，可以先想办法学习一下这些内容。不过，学习这些，光读书往往是没有什么效果的，还要重视实践哦！

教程中有的章节可能很长，是为了把所有事情解释清楚。如果你认为某些部分你不需要，请善用屏幕右侧的目录来跳过它们。

如果你准备好了，那么点击下方的按钮，前往下一个主题开始学习吧！

:::note 提示

如果你在教程的乐谱例子中看到了什么超纲的东西，不要惊慌。那些东西不会影响你学习现在的内容。记住，Sparks NMN 的语言是被设计成尽可能自然且与简谱相似的样子的。你甚至可以尝试自己猜猜它们是什么意思。

:::
